<%= raw(Kamiflex.build(self) do
  bubble do
    body do
      horizontal_box do
        text "üçî", flex: 0, action: message_action("/")
        text "Todos", weight: "bold", margin: "sm"
        text "new", align: "end", action: uri_action(liff_path(path: new_todo_path)), color: "#0000ee"
      end
      separator
      if @todos.present?
        vertical_box margin: "lg" do
          horizontal_box margin: "lg" do
            text "Name", weight: "bold"
            text "action", align: "end"
          end
          horizontal_box @todos, margin: "lg" do |todo|
            text todo.name, action: message_action("GET /todos/#{todo.id}")
            text "‚ùå", align: "end", action: message_action("DELETE /todos/#{todo.id}")
          end
        end
      else
        text "Ê≤íÊúâÁõÆÂâçÂÖßÂÆπ", margin: "lg"
      end
    end
  end
end )%>



{
  "type": "flex",
  "altText": "this is a flex message",
  "contents": {
    "type": "bubble",
    "body": {
      "type": "box",
      "layout": "vertical",
      "contents": [
        {
          "type": "box",
          "layout": "horizontal",
          "contents": [
            {
              "type": "text",
              "text": "üçî",
              "flex": 0,
              "action": {
                "type": "message",
                "label": "/",
                "text": "/"
              }
            },
            {
              "type": "text",
              "text": "Todos",
              "weight": "bold",
              "margin": "sm"
            },
            {
              "type": "text",
              "text": "new",
              "align": "end",
              "action": {
                "type": "uri",
                "label": "line://app/1491467222-vjlRbNoB?path=%2Ft",
                "uri": "line://app/1491467222-vjlRbNoB?path=%2Ftodos%2Fnew"
              },
              "color": "#0000ee"
            }
          ]
        },
        {
          "type": "separator",
          "margin": "md",
          "color": "#000000"
        },
        {
          "type": "box",
          "layout": "vertical",
          "contents": [
            {
              "type": "box",
              "layout": "horizontal",
              "contents": [
                {
                  "type": "text",
                  "text": "Name",
                  "weight": "bold"
                },
                {
                  "type": "text",
                  "text": "action",
                  "align": "end"
                }
              ],
              "margin": "lg"
            },
            {
              "type": "box",
              "layout": "horizontal",
              "contents": [
                {
                  "type": "text",
                  "text": "‰Ω†ÊúâÁúã‰æÜ",
                  "action": {
                    "type": "message",
                    "label": "GET /todos/25",
                    "text": "GET /todos/25"
                  }
                },
                {
                  "type": "text",
                  "text": "‚ùå",
                  "align": "end",
                  "action": {
                    "type": "message",
                    "label": "DELETE /todos/25",
                    "text": "DELETE /todos/25"
                  }
                }
              ],
              "margin": "lg"
            }
          ],
          "margin": "lg"
        }
      ]
    }
  }
}